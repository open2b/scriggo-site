<!doctype html>
<html lang="en" class="article">
<head>
    <title>Scriggo command</title>
    <link rel="stylesheet" href="/css/highlight.css" media="screen">
<link rel="stylesheet" href="/css/github.css" media="screen">

    <meta charset="utf-8">
    <link rel="stylesheet" href="/css/style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="Scriggo command">
    <meta property="og:description" content="Scriggo is the world’s most powerful template engine and Go embeddable interpreter">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://scriggo.com">
    <meta property="og:image" content="https://scriggo.com/images/scriggo-card.png">
    <meta name=twitter:title content="Scriggo command">
    <meta name=twitter:description content="Scriggo is the world’s most powerful template engine and Go embeddable interpreter">
    <meta name=twitter:image content="https://scriggo.com/images/scriggo-card.png">

    <script src="../js/jquery-3.6.0.min.js"></script>
</head>
<body>
<nav class="top">
    <a class="logo" href="/"><img src="/images/scriggo.svg" width="107" alt="Scriggo" title="Scriggo"></a>
    <a class="version" href="https://github.com/open2b/scriggo/releases">v0.52.0</a>
    <ul>
        <li><a href="/what-is-scriggo" class="selected">Documentation</a></li>
        <li><a href="/faq">FAQ</a></li>
        <li><a href="https://github.com/open2b/scriggo/discussions" target="_blank">Community</a></li>
        <li class="playground"><a href="https://play.scriggo.com/" target="_blank">Playground</a></li>
    </ul>
    <a class="github-logo" href="https://github.com/open2b/scriggo/" title="Scriggo on GitHub"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Github | Scriggo</title><path d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"/></svg></a>
</nav><article>
    <div class="wrap">
        <aside>
            <button onclick="$(this.parentNode).toggleClass('expanded')">In this section<span></span></button>
            <nav>
            <ul>
                <li><a href="/what-is-scriggo" >What is Scriggo?</a>
</li>
                <li><a href="/get-started" >Get Started</a>
</li>
                <li><a href="/how-to-use" >How to use</a>
</li>
                <li>
                    <a href="/templates" >Templates</a>

                    <ul>
                        <li><a href="/templates/show-render" >Show and Render</a>
</li>
                        <li><a href="/templates/macro" >Macro</a>
</li>
                        <li><a href="/templates/extends-and-import" >Extends and Import</a>
</li>
                        <li><a href="/templates/if-for-switch" >If, For and Switch</a>
</li>
                        <li><a href="/templates/using" >Using and itea</a>
</li>
                        <li><a href="/templates/operators" >Operators</a>
</li>
                        <li><a href="/templates/variables" >Variables</a>
</li>
                        <li><a href="/templates/types" >Types</a>
</li>
                        <li><a href="/templates/builtins" >Builtins</a>
</li>
                        <li><a href="/templates/specification" >Specification</a>
</li>
                        <li><a href="/templates/switch-from-jinja-to-scriggo" >Switch from Jinja</a>
</li>
                    </ul>
                </li>
                <li><a href="/scriggo-command"  class="selected" >Scriggo command</a>
</li>
                <li><a href="/scriggofile" >Scriggofile</a>
</li>
                <li><a href="/disassembler" >Disassembler</a>
</li>
                <li><a href="/limitations" >Limitations</a>
</li>
            </ul>
            </nav>
        </aside>
        <div class="content">
            <h1 id="scriggo-command">Scriggo command</h1>
<p>Scriggo has a command line interface, the <code>scriggo</code> command, that allows to:</p>
<ul>
<li><a href="#serve-a-template">serve templates with support for Markdown</a></li>
<li><a href="#initialize-an-interpreter">initialize an interpreter for Go programs</a></li>
<li><a href="#generate-a-package-importer">generate the code for package importers</a></li>
</ul>
<h3 id="install-scriggo-command">Install <code>scriggo</code> command</h3>
<p>Before installing the Scriggo command, <a href="https://golang.org/dl/">download and install Go</a>.</p>
<p>When Go is installed, open a terminal and execute:</p>
<pre><code>$ go install github.com/open2b/scriggo/cmd/scriggo@latest
</code></pre>
<p>then test if <code>scriggo</code> can be executed:</p>
<pre><code>$ scriggo version
scriggo version 0.50.1 (go1.17)
</code></pre>
<p>If the <code>scriggo</code> command is not found, you should add the directory where the command has been installed to your <code>PATH</code>.</p>
<p><code>go</code> installs the <code>scriggo</code> command in the directory named by the <code>GOBIN</code> environment variable. If it is not set it
defaults to <code>$GOPATH/bin</code> or, if the <code>GOPATH</code> environment variable is not set, to <code>$HOME/go/bin</code>.</p>
<h3 id="get-help-from-command-line">Get help from command line</h3>
<p>To get help from the command line run the following command:</p>
<pre><code>$ scriggo help
</code></pre>
<h2 id="serve-a-template">Serve a template</h2>
<p>The Scriggo Serve command runs a web server and serves the template rooted at the current directory.
All Scriggo builtins are available in template files. It is useful to learn <a href="/templates">Scriggo templates</a>.</p>
<p>The basic Serve command takes this form:</p>
<pre><code>$ scriggo serve
</code></pre>
<p>It renders HTML and Markdown files based on file extension.</p>
<p>For example, serving this request:</p>
<pre><code>http://localhost:8080/article
</code></pre>
<p>it renders the file &quot;article.html&quot; as HTML if exists, otherwise renders the file &quot;article.md&quot; as Markdown.</p>
<p>Serving a URL terminating with a slash:</p>
<pre><code>http://localhost:8080/blog/
</code></pre>
<p>it renders &quot;blog/index.html&quot; or &quot;blog/index.md&quot;.</p>
<p>Markdown is converted to HTML with the <a href="https://github.com/yuin/goldmark">Goldmark</a> parser with the options
<code>html.WithUnsafe</code>, <code>parser.WithAutoHeadingID</code> and <code>extension.GFM</code>.</p>
<p>Templates are automatically rebuilt when a file changes.</p>
<h3 id="complete-syntax">Complete syntax</h3>
<p>The complete <code>scriggo serve</code> command takes this form:</p>
<pre><code>$ scriggo serve [-S n] [--metrics] 
</code></pre>
<p>The <code>-S</code> flag prints the assembly code of the served file and n determines the maximum length, in runes, of
disassembled <code>Text</code> instructions</p>
<pre><code>n &gt; 0: at most n runes; leading and trailing white space are removed
n == 0: no text
n &lt; 0: all text
</code></pre>
<p>The <code>--metrics</code> flags prints metrics about execution time.</p>
<h2 id="initialize-an-interpreter">Initialize an interpreter</h2>
<p>The Scriggo Init command initializes an interpreter for Go programs. It creates the following files:</p>
<ul>
<li>go.mod</li>
<li>go.sum</li>
<li>main.go</li>
<li>packages.go</li>
<li>Scriggofile</li>
</ul>
<p>The syntax is:</p>
<pre><code>$ scriggo init [dir]
</code></pre>
<p>where <code>dir</code> is the directory in which to create the files. If no argument is given, <code>scriggo init</code> uses the current directory.
If the directory already contains &quot;.go&quot; files or a &quot;vendor&quot; directory, the command fails.</p>
<p>The command creates a Scriggofile with the instruction to create an importer for the Go standard library.</p>
<p>If the directory does not contain a <code>go.mod</code> file, the command creates it and as module path uses the directory name.</p>
<h2 id="generate-a-package-importer">Generate a package importer</h2>
<p>The Scriggo Import command generate the code for a package importer. An importer is used by Scriggo to import a package
when an &quot;import&quot; declaration is executed.</p>
<p>The code for the importer is generated from the instructions in a Scriggofile. The Scriggofile should be in a Go module.</p>
<p>The basic Import command takes this form:</p>
<pre><code>$ scriggo import [-o output]
</code></pre>
<p>For example:</p>
<pre><code>$ scriggo import -o packages.go
</code></pre>
<p>generates the code for an importer, with instructions in a Scriggofile called &quot;Scriggofile&quot; in the current directory
and writes it into the file &quot;packages.go&quot;.</p>
<h3 id="complete-syntax-1">Complete syntax</h3>
<p>The complete <code>scriggo import</code> command takes this form:</p>
<pre><code>$ scriggo import [-f Scriggofile] [-v] [-x] [-o output] [module]
</code></pre>
<p>If an argument is given, it must be a local rooted path or must begin with a <code>.</code> or <code>..</code> element and it must be a module
root directory. Import looks for a Scriggofile named &quot;Scriggofile&quot; in that directory.</p>
<p>If no argument is given, the action applies to the current directory.</p>
<p>The <code>-f</code> flag forces import to read the given Scriggofile instead of the Scriggofile of the module.</p>
<p>The importer in the generated Go file have type <code>native.Importer</code> and it is assigned to a variable named &quot;packages&quot;.
The variable can be used as an argument to the <code>Build</code> and <code>BuildTemplate</code> functions in the <code>scriggo</code> package.</p>
<p>To give a different name to the variable use the instruction <code>SET VARIABLE</code> in the Scriggofile:</p>
<pre><code>SET VARIABLE foo
</code></pre>
<p>The package name in the generated Go file is by default &quot;main&quot;, to give a different name to the package use the
instruction <code>SET PACKAGE</code> in the Scriggofile:</p>
<pre><code>SET PACKAGE boo
</code></pre>
<p>The <code>-v</code> flag prints the imported packages as defined in the Scriggofile.</p>
<p>The <code>-x</code> flag prints the executed commands.</p>
<p>The <code>-o</code> flag writes the generated Go file to the named output file, instead to the standard output.</p>

<div id="edit-on-github">
  <a href="https://github.com/open2b/scriggo-site/blob/main/site/scriggo-command.md" target="_blank">
    ✍️ Edit on GitHub, PRs are welcome.
  </a>
</div>        </div>
    </div>
</article>
<footer>
  <div class="wrap">
    <img class="gopher" src="/images/pilot-bust.svg" alt="The Go Gopher">
    <ul>
      <li><a href="/copyright">Copyright</a></li>
      <li><a href="mailto:info@open2b.com">Contact Us</a></li>
      <li><a href="https://github.com/open2b/scriggo/issues/new" target="_blank">Report a website issue</a></li>
      <li class="company"><a href="https://www.open2b.com/" target="_blank">Open2b</a></li>
    </ul>
  </div>
</footer><script src="/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>